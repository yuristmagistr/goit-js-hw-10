{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["// Описаний в документації\nimport flatpickr from \"flatpickr\";\n// Додатковий імпорт стилів\nimport \"flatpickr/dist/flatpickr.min.css\";\n\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst startBtn = document.querySelector('[data-start]');\nconst inputTimer = document.querySelector('#datetime-picker');\nconst daysData = document.querySelector('[data-days]');\nconst hoursData = document.querySelector('[data-hours]');\nconst minutesData = document.querySelector('[data-minutes]');\nconst secondsData = document.querySelector('[data-seconds]');\nconst timer = document.querySelector('.timer');\n\nstartBtn.disabled = true; // date unchoosed\n\nlet userSelectedDate;\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n        userSelectedDate = selectedDates[0];\n        if (userSelectedDate < Date.now()) {\n            iziToast.error({\n                message: 'Please choose a date in the future',\n                position: 'topRight',\n            });\n            startBtn.disabled = true;\n        } else {\n            startBtn.disabled = false;\n        }\n    },\n}\n\n\n       \n        \n  \nlet countDownInterval;\n\nfunction startTimer() {\n        countDownInterval = setInterval(updateTimer, 1000, userSelectedDate);\n    }\n       \nfunction updateTimer(endDate) {\n    const initial = Date.now();\n    const diff = endDate - initial;\n    const { days, hours, minutes, seconds } = convertMs(diff);\n    \n    if (!isNaN(days) && !isNaN(hours) && !isNaN(minutes) && !isNaN(seconds)) {\n        daysData.textContent = addLeadingZero(days);\n        hoursData.textContent = addLeadingZero(hours);\n        minutesData.textContent = addLeadingZero(minutes);\n        secondsData.textContent = addLeadingZero(seconds);\n    }\n   if (diff <= 0) {\n    stopTimer();\n}   \n} \n       \n\n \nfunction stopTimer() {\n    if (countDownInterval) {\n        clearInterval(countDownInterval)\n\n        daysData.textContent = '00';\n        hoursData.textContent = '00';\n        minutesData.textContent = '00';\n        secondsData.textContent = '00';\n\n        countDownInterval = null;\n    }\n}\n\n\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nconsole.log(convertMs(2000)); // {days: 0, hours: 0, minutes: 0, seconds: 2}\nconsole.log(convertMs(140000)); // {days: 0, hours: 0, minutes: 2, seconds: 20}\nconsole.log(convertMs(24140000)); // {days: 0, hours: 6 minutes: 42, seconds: 20}\n\n\n\nstartBtn.addEventListener('click', () => {\n    startTimer();\n});\n\n\n\nfunction addLeadingZero(value) {\n    return String(value).padStart(2, '0');\n}\n\n\nconst fp = flatpickr(inputTimer, options);"],"names":["startBtn","inputTimer","daysData","hoursData","minutesData","secondsData","userSelectedDate","options","selectedDates","iziToast","countDownInterval","startTimer","updateTimer","endDate","initial","diff","days","hours","minutes","seconds","convertMs","addLeadingZero","stopTimer","ms","value","flatpickr"],"mappings":"2GAWA,MAAMA,EAAW,SAAS,cAAc,cAAc,EAChDC,EAAa,SAAS,cAAc,kBAAkB,EACtDC,EAAW,SAAS,cAAc,aAAa,EAC/CC,EAAY,SAAS,cAAc,cAAc,EACjDC,EAAc,SAAS,cAAc,gBAAgB,EACrDC,EAAc,SAAS,cAAc,gBAAgB,EAC7C,SAAS,cAAc,QAAQ,EAE7CL,EAAS,SAAW,GAEpB,IAAIM,EAEJ,MAAMC,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACnBF,EAAmBE,EAAc,CAAC,EAC9BF,EAAmB,KAAK,OACxBG,EAAS,MAAM,CACX,QAAS,qCACT,SAAU,UAC1B,CAAa,EACDT,EAAS,SAAW,IAEpBA,EAAS,SAAW,EAE3B,CACL,EAMA,IAAIU,EAEJ,SAASC,GAAa,CACdD,EAAoB,YAAYE,EAAa,IAAMN,CAAgB,CACtE,CAEL,SAASM,EAAYC,EAAS,CAC1B,MAAMC,EAAU,KAAK,MACfC,EAAOF,EAAUC,EACjB,CAAE,KAAAE,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYC,EAAUL,CAAI,EAEpD,CAAC,MAAMC,CAAI,GAAK,CAAC,MAAMC,CAAK,GAAK,CAAC,MAAMC,CAAO,GAAK,CAAC,MAAMC,CAAO,IAClEjB,EAAS,YAAcmB,EAAeL,CAAI,EAC1Cb,EAAU,YAAckB,EAAeJ,CAAK,EAC5Cb,EAAY,YAAciB,EAAeH,CAAO,EAChDb,EAAY,YAAcgB,EAAeF,CAAO,GAEjDJ,GAAQ,GACXO,GAEJ,CAIA,SAASA,GAAY,CACbZ,IACA,cAAcA,CAAiB,EAE/BR,EAAS,YAAc,KACvBC,EAAU,YAAc,KACxBC,EAAY,YAAc,KAC1BC,EAAY,YAAc,KAE1BK,EAAoB,KAE5B,CAIA,SAASU,EAAUG,EAAI,CAQrB,MAAMP,EAAO,KAAK,MAAMO,EAAK,KAAG,EAE1BN,EAAQ,KAAK,MAAOM,EAAK,MAAO,IAAI,EAEpCL,EAAU,KAAK,MAAQK,EAAK,MAAO,KAAQ,GAAM,EAEjDJ,EAAU,KAAK,MAASI,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAP,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEA,QAAQ,IAAIC,EAAU,GAAI,CAAC,EAC3B,QAAQ,IAAIA,EAAU,IAAM,CAAC,EAC7B,QAAQ,IAAIA,EAAU,MAAQ,CAAC,EAI/BpB,EAAS,iBAAiB,QAAS,IAAM,CACrCW,GACJ,CAAC,EAID,SAASU,EAAeG,EAAO,CAC3B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACxC,CAGWC,EAAUxB,EAAYM,CAAO"}